* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
    transition: background 1s ease;
    padding: 20px 0;
}

/* Animated Stars Background */
.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.stars::before,
.stars::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    box-shadow: 
        100px 200px white, 300px 100px white, 500px 300px white,
        700px 150px white, 200px 400px white, 600px 50px white,
        150px 350px white, 450px 250px white, 800px 400px white,
        250px 150px white, 550px 450px white, 350px 50px white,
        50px 100px rgba(255,255,255,0.5), 400px 350px rgba(255,255,255,0.5),
        650px 200px rgba(255,255,255,0.5), 750px 300px rgba(255,255,255,0.5);
    border-radius: 50%;
    animation: twinkle 3s infinite ease-in-out;
}

.stars::after {
    animation-delay: 1.5s;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* Main Card */
.card {
    background: rgba(255, 255, 255, 0.98);
    padding: 40px 35px;
    max-width: 450px;
    width: 90%;
    text-align: center;
    border-radius: 25px;
    z-index: 2;
    position: relative;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3),
                0 0 50px rgba(255, 255, 255, 0.1) inset;
    animation: cardEntrance 1s ease-out;
    overflow: visible;
}

@keyframes cardEntrance {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(50px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Sparkles */
.sparkle {
    position: absolute;
    font-size: 24px;
    animation: sparkleFloat 3s infinite ease-in-out;
    z-index: 3;
}

.sparkle-1 {
    top: -20px;
    left: 20px;
    animation-delay: 0s;
}

.sparkle-2 {
    top: -15px;
    right: 30px;
    animation-delay: 0.7s;
}

.sparkle-3 {
    bottom: -10px;
    left: 30px;
    animation-delay: 1.4s;
}

.sparkle-4 {
    bottom: -15px;
    right: 20px;
    animation-delay: 2.1s;
}

@keyframes sparkleFloat {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.7;
    }
    50% {
        transform: translateY(-20px) rotate(180deg);
        opacity: 1;
    }
}

/* Header */
.card-header {
    margin-bottom: 20px;
}

h1 {
    color: #ff4081;
    font-size: 2.5em;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    animation: titlePulse 2s infinite ease-in-out;
}

@keyframes titlePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

h2 {
    color: #555;
    font-size: 1.5em;
    font-weight: 300;
}

.name-highlight {
    background: linear-gradient(45deg, #667eea, #764ba2, #f093fb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
    font-size: 1.2em;
    animation: nameGlow 2s infinite alternate;
}

@keyframes nameGlow {
    from { filter: brightness(1); }
    to { filter: brightness(1.3); }
}

/* Message Container */
.message-container {
    min-height: 80px;
    margin: 25px 0;
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

#typing {
    font-size: 17px;
    color: #333;
    line-height: 1.6;
    font-weight: 500;
}

/* Enhanced Cake */
.cake-container {
    margin: 30px auto;
    position: relative;
}

.cake {
    width: 150px;
    margin: 0 auto;
    position: relative;
    animation: cakeHover 3s infinite ease-in-out;
}

@keyframes cakeHover {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.cake-layer {
    margin: 0 auto;
    border-radius: 10px;
    position: relative;
}

.layer-top {
    width: 100px;
    height: 40px;
    background: linear-gradient(to bottom, #ff6b9d, #ff4757);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 3;
}

.layer-middle {
    width: 120px;
    height: 45px;
    background: linear-gradient(to bottom, #ffa502, #ff6348);
    margin-top: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 2;
}

.layer-bottom {
    width: 140px;
    height: 50px;
    background: linear-gradient(to bottom, #ffbe76, #ff7979);
    margin-top: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 1;
}

.cake-plate {
    width: 160px;
    height: 10px;
    background: linear-gradient(to bottom, #dfe6e9, #b2bec3);
    border-radius: 50%;
    margin-top: 5px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

.candle {
    width: 8px;
    height: 35px;
    background: linear-gradient(to bottom, #fff, #f0f0f0);
    position: absolute;
    top: -35px;
    border-radius: 2px;
    cursor: pointer;
    transition: transform 0.3s;
}

.candle:hover {
    transform: scale(1.1);
}

.candle-1 { left: 25px; }
.candle-2 { left: 46px; }
.candle-3 { left: 67px; }

.flame {
    width: 12px;
    height: 18px;
    background: radial-gradient(circle, #ffeb3b 0%, #ff9800 50%, #ff5722 100%);
    border-radius: 50% 50% 0 0;
    position: absolute;
    top: -18px;
    left: -2px;
    animation: flicker 0.15s infinite;
    box-shadow: 0 0 10px #ff9800, 0 0 20px #ff5722;
}

@keyframes flicker {
    0%, 100% { transform: scale(1) translateY(0); }
    50% { transform: scale(1.15) translateY(-2px); }
}

.flame.blown-out {
    animation: smokeRise 0.8s ease-out forwards;
    background: #999;
    box-shadow: none;
}

@keyframes smokeRise {
    to {
        transform: translateY(-50px);
        opacity: 0;
    }
}

.cake-instruction {
    margin-top: 15px;
    font-size: 14px;
    color: #666;
    font-style: italic;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* Wishes Section */
.wishes-section {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    margin: 25px 0;
    opacity: 0;
    transform: translateY(20px);
}

.wishes-section.show {
    animation: fadeInUp 0.8s ease-out forwards;
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.wish-card {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 15px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
    animation: wishCardPop 0.5s ease-out backwards;
}

.wish-card:nth-child(1) { animation-delay: 0.2s; }
.wish-card:nth-child(2) { animation-delay: 0.4s; }
.wish-card:nth-child(3) { animation-delay: 0.6s; }

@keyframes wishCardPop {
    from {
        transform: scale(0.8);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

.wish-icon {
    font-size: 24px;
    flex-shrink: 0;
}

.wish-card p {
    margin: 0;
    color: #333;
    font-size: 14px;
    font-weight: 500;
    text-align: left;
}

/* From Section */
.from {
    margin: 25px 0 20px;
    color: #666;
    font-size: 16px;
    line-height: 1.6;
}

.sender-name {
    color: #764ba2;
    font-weight: 600;
    font-style: italic;
}

/* Button */
.surprise-btn {
    margin-top: 20px;
    padding: 15px 35px;
    background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
    color: white;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
}

.surprise-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.6);
}

.surprise-btn:active {
    transform: translateY(-1px);
}

.surprise-btn:disabled {
    background: linear-gradient(45deg, #a8edea 0%, #fed6e3 100%);
    cursor: not-allowed;
    transform: none;
}

.btn-shine {
    position: absolute;
    top: -50%;
    left: -100%;
    width: 100%;
    height: 200%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transform: rotate(45deg);
    animation: shine 3s infinite;
}

@keyframes shine {
    0% { left: -100%; }
    50%, 100% { left: 200%; }
}

/* Surprise Message */
.surprise-message {
    margin-top: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 15px;
    color: white;
    opacity: 0;
    transform: scale(0);
    transition: all 0.5s ease;
}

.surprise-message.show {
    opacity: 1;
    transform: scale(1);
}

.surprise-message h3 {
    margin-bottom: 10px;
    font-size: 20px;
}

.surprise-message p {
    margin: 0;
    font-size: 16px;
}

/* Confetti Canvas */
canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 100;
}

/* Balloons */
.balloons-container {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
}

.balloon {
    position: absolute;
    width: 50px;
    height: 60px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    animation: float 8s infinite ease-in-out;
    opacity: 0.8;
}

@media (max-width: 768px) {
    .balloon {
        width: 35px;
        height: 45px;
    }
}

@media (max-width: 480px) {
    .balloon {
        width: 25px;
        height: 35px;
    }
}

.balloon::before {
    content: '';
    position: absolute;
    width: 2px;
    height: 80px;
    background: rgba(0, 0, 0, 0.2);
    top: 100%;
    left: 50%;
}

@keyframes float {
    0%, 100% {
        transform: translateY(100vh) translateX(0);
    }
    50% {
        transform: translateY(-10vh) translateX(20px);
    }
}

/* Hearts */
.hearts-container {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1;
}

.heart {
    position: absolute;
    font-size: 20px;
    animation: heartFloat 6s infinite ease-in;
    opacity: 0;
}

@media (max-width: 768px) {
    .heart {
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    .heart {
        font-size: 14px;
    }
}

@keyframes heartFloat {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    90% {
        opacity: 0.8;
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    body {
        padding: 10px;
    }
    
    .card {
        padding: 25px 20px;
        max-width: 100%;
        width: 95%;
        margin: 10px;
    }
    
    h1 {
        font-size: 1.8em;
        margin-bottom: 8px;
    }
    
    h2 {
        font-size: 1.2em;
    }
    
    .name-highlight {
        font-size: 1.1em;
    }
    
    .message-container {
        padding: 15px;
        min-height: 60px;
    }
    
    #typing {
        font-size: 14px;
    }
    
    /* Adjust sparkles for mobile */
    .sparkle {
        font-size: 18px;
    }
    
    .sparkle-1 { top: -15px; left: 10px; }
    .sparkle-2 { top: -10px; right: 15px; }
    .sparkle-3 { bottom: -5px; left: 15px; }
    .sparkle-4 { bottom: -10px; right: 10px; }
    
    /* Cake adjustments */
    .cake {
        width: 120px;
    }
    
    .layer-top {
        width: 80px;
        height: 35px;
    }
    
    .layer-middle {
        width: 100px;
        height: 40px;
    }
    
    .layer-bottom {
        width: 120px;
        height: 45px;
    }
    
    .cake-plate {
        width: 130px;
    }
    
    .candle {
        width: 6px;
        height: 30px;
    }
    
    .candle-1 { left: 20px; }
    .candle-2 { left: 37px; }
    .candle-3 { left: 54px; }
    
    .flame {
        width: 10px;
        height: 15px;
        top: -15px;
        left: -2px;
    }
    
    .cake-instruction {
        font-size: 12px;
        margin-top: 10px;
    }
    
    /* Wishes section */
    .wish-card {
        padding: 12px;
        font-size: 13px;
    }
    
    .wish-icon {
        font-size: 20px;
    }
    
    .wish-card p {
        font-size: 13px;
    }
    
    /* Button */
    .surprise-btn {
        padding: 12px 25px;
        font-size: 14px;
        width: 90%;
        max-width: 280px;
    }
    
    /* From section */
    .from {
        font-size: 14px;
        margin: 20px 0 15px;
    }
    
    /* Surprise message */
    .surprise-message {
        padding: 15px;
    }
    
    .surprise-message h3 {
        font-size: 16px;
    }
    
    .surprise-message p {
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .card {
        padding: 20px 15px;
    }
    
    h1 {
        font-size: 1.5em;
    }
    
    h2 {
        font-size: 1.1em;
    }
    
    .name-highlight {
        font-size: 1em;
    }
    
    #typing {
        font-size: 13px;
    }
    
    .message-container {
        padding: 12px;
        min-height: 50px;
    }
    
    /* Smaller cake for very small screens */
    .cake {
        width: 100px;
    }
    
    .layer-top {
        width: 70px;
        height: 30px;
    }
    
    .layer-middle {
        width: 85px;
        height: 35px;
    }
    
    .layer-bottom {
        width: 100px;
        height: 40px;
    }
    
    .cake-plate {
        width: 110px;
    }
    
    .candle {
        width: 5px;
        height: 25px;
    }
    
    .candle-1 { left: 18px; }
    .candle-2 { left: 32.5px; }
    .candle-3 { left: 47px; }
    
    .flame {
        width: 8px;
        height: 12px;
        top: -12px;
        left: -1.5px;
    }
    
    .wish-card {
        padding: 10px;
    }
    
    .wish-icon {
        font-size: 18px;
    }
    
    .wish-card p {
        font-size: 12px;
    }
    
    .surprise-btn {
        padding: 10px 20px;
        font-size: 13px;
    }
    
    .from {
        font-size: 13px;
    }
}

@media (max-width: 360px) {
    h1 {
        font-size: 1.3em;
    }
    
    h2 {
        font-size: 1em;
    }
    
    .card {
        padding: 15px 12px;
    }
    
    .sparkle {
        font-size: 16px;
    }
}
